name: Github Pages Deploy

on:
  pull_request:
    branches: ["master"]
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest

    strategy:
      matrix:
        node-version: [18.x]

    steps:
      - name: Angular Deploy gh-pages Actions
        uses: AhsanAyaz/angular-deploy-gh-pages-actions@v1.4.0
        with:
          # Github access token token used to deploy on gh_pages. You can find it on Github.
          github_access_token: ${{ secrets.GITHUB_TOKEN }}
          # The directory of the angular project, in which all the commands will run
          # angular_project_dir: # optional, default is ./
          # Build configuration for the angular app
          # build_configuration: # optional, default is production
          # base href for the app
          base_href: /json_placeholder_posts/ # optional, default is /
          # branch on which the angular build will be deployed
          deploy_branch: master # optional, default is gh-pages
          # The folder in which `ng build` provides its output. This is the folder which will be deployed to the `deploy_branch`.
          angular_dist_build_folder: ./dist/json_placeholder_posts # optional, default is dist
          # If the action should run 'ng lint'
          # run_lint: # optional
          # Will not fail the step if anything fails
          # skip_failure: # optional

permissions: write-all
